{"version":3,"file":"angular-golden-layout.js","sources":["ng://angular-golden-layout/lib/tokens/golden-layout-container.token.ts","ng://angular-golden-layout/lib/tokens/golden-layout-item-component-factory.token.ts","ng://angular-golden-layout/lib/services/layout-manager.service.ts","ng://angular-golden-layout/lib/utils/JsUtils.ts","ng://angular-golden-layout/lib/popup-window-manager.ts","ng://angular-golden-layout/lib/tokens/golden-layout-item-container.token.ts","ng://angular-golden-layout/lib/tokens/golden-layout-configuration.token.ts","ng://angular-golden-layout/lib/tokens/golden-layout-item-state.token.ts","ng://angular-golden-layout/lib/components/golden-layout/golden-layout.component.ts","ng://angular-golden-layout/lib/components/golden-layout-popup/golden-layout-popup.component.ts","ng://angular-golden-layout/lib/golden-layout-item.ts","ng://angular-golden-layout/lib/components/golden-layout-item-container/golden-layout-item-container.component.ts","ng://angular-golden-layout/lib/layout.module.ts","ng://angular-golden-layout/lib/models/configuration.ts","ng://angular-golden-layout/lib/models/golden-layout-component-state.ts"],"sourcesContent":["import {InjectionToken} from \"@angular/core\";\n\nexport const GoldenLayoutContainer = new InjectionToken('GoldenLayoutContainer');\n","import {InjectionToken} from \"@angular/core\";\n\nexport const GoldenLayoutItemComponentResolver = new InjectionToken('GoldenLayoutItemComponentResolver');\n","import {Injectable, Type} from \"@angular/core\";\nimport {IGoldenLayoutComponentState} from \"../models/golden-layout-component-state\";\nimport {GoldenLayoutComponent} from \"../components/golden-layout/golden-layout.component\";\n\nexport interface AddComponentData {\n    layoutItemName: string;\n    state: any;\n    parent?: any;\n}\n\n@Injectable()\nexport class LayoutManagerService {\n    private _layout: GoldenLayoutComponent;\n\n    get layout(): GoldenLayoutComponent {\n        return this._layout;\n    }\n\n    setLayout(layout: GoldenLayoutComponent) {\n        this._layout = layout;\n    }\n\n    addComponent(data: AddComponentData) {\n        if (this.layout) {\n            this.layout.addComponent(data.layoutItemName, data.state, data.parent);\n        }\n    }\n\n    addComponentAsColumn(data: AddComponentData) {\n        if (this.layout) {\n            this.layout.addComponentAsColumn(data.layoutItemName, data.state);\n        }\n    }\n\n    loadState(state: IGoldenLayoutComponentState, fireStateChanged: boolean = false) {\n        if (this.layout) {\n            this.layout.loadState(state, fireStateChanged);\n        }\n    }\n\n    clear() {\n        if (this.layout) {\n            this.layout.clear();\n        }\n    }\n}\n","export class JsUtils {\n  static generateGUID(): string {\n    const s4 = () => {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    };\n\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n      s4() + '-' + s4() + s4() + s4();\n  }\n}\n","import {Observable, Subject} from 'rxjs';\nimport ItemConfig = GoldenLayoutNamespace.ItemConfig;\nimport {IGoldenLayoutComponentSettings} from './models/configuration';\nimport ComponentConfig = GoldenLayoutNamespace.ComponentConfig;\nimport {GoldenLayoutComponent} from './components/golden-layout/golden-layout.component';\nimport {JsUtils} from './utils/JsUtils';\n\nexport type PopinHandler = (componentConfig: ComponentConfig) => void;\nexport type PopupStateChangedHandler = () => void;\n\nexport interface IPopupWindowManagerConfig {\n  componentConfig: ItemConfig;\n  layoutSettings: IGoldenLayoutComponentSettings;\n  popinHandler: PopinHandler;\n  popupStateChangedHandler: PopupStateChangedHandler;\n  popupClosedHandler: (closedByUser: boolean) => void;\n  runChangeDetectionHandler: () => void;\n}\n\nexport interface IPopupWindowConfig {\n  componentConfig: any;\n  layoutSettings: any;\n  popin: PopinHandler;\n  fireStateChanged: PopupStateChangedHandler;\n  runChangeDetectionInRootWindow: () => void;\n  needRunChangeDetection: Observable<any>;\n  onLayoutCreated: (GoldenLayoutComponent) => void;\n}\n\nexport const PopupWindowConfigKey = 'popupWindowConfigKey';\n\nexport class PopupWindowManager {\n  id: string = JsUtils.generateGUID();\n\n  private _closedByUser: boolean = true;\n  private _runChangeDetection$ = new Subject();\n  private _popupLayout: GoldenLayoutComponent;\n\n  static openWindow(url: string): Window {\n    const windowOptions = {\n      width: 500,\n      height: 500,\n      menubar: 'no',\n      toolbar: 'no',\n      location: 'no',\n      personalbar: 'no',\n      resizable: 'yes',\n      scrollbars: 'no',\n      status: 'no'\n    };\n\n    const popupWindowNative = window.open(url,\n      `${JsUtils.generateGUID()}`, PopupWindowManager.serializeWindowOptions(windowOptions));\n\n    if (popupWindowNative == null) {\n      return null;\n    }\n\n    return popupWindowNative;\n  }\n\n  static serializeWindowOptions(windowOptions: any) {\n    const windowOptionsString = [];\n\n    for (const key in windowOptions) {\n      windowOptionsString.push(key + '=' + windowOptions[key]);\n    }\n\n    return windowOptionsString.join(',');\n  }\n\n  constructor(public window: Window,\n              private popupConfig: IPopupWindowManagerConfig) {\n\n    this.window[PopupWindowConfigKey] = {\n      componentConfig: popupConfig.componentConfig,\n      layoutSettings: popupConfig.layoutSettings,\n\n      popin: ((compConfig) => {\n        popupConfig.popinHandler(compConfig);\n      }) as PopinHandler,\n\n      fireStateChanged: (() => {\n        popupConfig.popupStateChangedHandler();\n      }) as PopupStateChangedHandler,\n\n      runChangeDetectionInRootWindow: () => {\n        popupConfig.runChangeDetectionHandler();\n      },\n\n      needRunChangeDetection: this._runChangeDetection$.asObservable(),\n      onLayoutCreated: (layout: GoldenLayoutComponent) => {\n        this._popupLayout = layout;\n      }\n    } as IPopupWindowConfig;\n\n    $(this.window).one('load', () => {\n      $(this.window).one('unload', () => {\n        popupConfig.popupClosedHandler(this._closedByUser);\n        this.window.close();\n      });\n    });\n  }\n\n  runChangeDetection() {\n    this._runChangeDetection$.next();\n  }\n\n  saveState() {\n    const componentConfig = this._popupLayout.saveState().content[0] as ComponentConfig;\n    delete componentConfig['width'];\n\n    return componentConfig;\n  }\n\n  close() {\n    this._closedByUser = false;\n    this.window.close();\n  }\n}\n","import {InjectionToken} from \"@angular/core\";\n\nexport const GoldenLayoutItemContainerToken = new InjectionToken('wrapper');\n","import {InjectionToken} from \"@angular/core\";\nimport {IGoldenLayoutComponentConfiguration} from \"../models/configuration\";\n\nexport const GoldenLayoutComponentConfiguration = new InjectionToken<IGoldenLayoutComponentConfiguration>('GoldenLayoutComponentConfiguration');\n","import {InjectionToken} from '@angular/core';\n\nexport const GoldenLayoutItemState = new InjectionToken('GoldenLayoutItemState');\n\n","/// <reference path=\"../../../../libs/golden-layout.d.ts\" />\n\nimport {\n    ApplicationRef,\n    ChangeDetectorRef,\n    Component,\n    ComponentFactoryResolver,\n    ComponentRef,\n    ElementRef,\n    HostListener, Inject,\n    Injector,\n    NgZone,\n    ReflectiveInjector,\n    Type,\n    ViewChild,\n    ViewContainerRef\n} from '@angular/core';\nimport {ComponentResolver, GoldenLayoutLabels, IGoldenLayoutComponentConfiguration} from '../../models/configuration';\nimport {IGoldenLayoutComponentState} from \"../../models/golden-layout-component-state\";\nimport Container = GoldenLayoutNamespace.Container;\nimport {BehaviorSubject, fromEvent, Observable, of, Subject} from \"rxjs\";\nimport {auditTime, filter, first, takeUntil} from \"rxjs/operators\";\nimport {GoldenLayoutContainer} from \"../../tokens/golden-layout-container.token\";\nimport {GoldenLayoutItemComponentResolver} from \"../../tokens/golden-layout-item-component-factory.token\";\n\nimport {LayoutManagerService} from \"../../services/layout-manager.service\";\nimport {IPopupWindowManagerConfig, PopupWindowManager} from \"../../popup-window-manager\";\nimport ComponentConfig = GoldenLayoutNamespace.ComponentConfig;\nimport {GoldenLayoutItemContainerToken} from \"../../tokens/golden-layout-item-container.token\";\nimport {GoldenLayoutComponentConfiguration} from \"../../tokens/golden-layout-configuration.token\";\nimport {GoldenLayoutItemState} from '../../tokens/golden-layout-item-state.token';\nimport {IGoldenLayoutItem} from '../../models/golden-layout-item';\n\nexport type ComponentInitCallback = (container: GoldenLayoutNamespace.Container, componentState: any) => void;\n\nexport interface GoldenLayoutState extends IGoldenLayoutComponentState, GoldenLayoutNamespace.Config {\n}\n\nconst COMPONENT_REF_KEY = '$componentRef';\nexport const DefaultLabels: GoldenLayoutLabels = {\n    additionalTabs: of('Additional tabs'),\n    addComponent: of('Add Component'),\n    maximise: of('Maximise'),\n    minimise: of('Minimise'),\n    popout: of('Open in new window'),\n    popin: of('Pop in'),\n    close: of('Close'),\n    loading: of('Loading'),\n    failedToLoadComponent: of('Failed to load component')\n};\nconst Class = {\n    tabsDropdown: 'lm_tabdropdown',\n    addComponent: 'lm_add-component',\n    close: 'lm_close',\n    closeTab: 'lm_close_tab',\n    maximise: 'lm_maximise',\n    popout: 'lm_popout',\n    popin: 'lm_popin',\n    tabDrag: 'lm_tab_drag',\n    ClosableTab: 'closable-tab'\n};\n\n@Component({\n  // tslint:disable-next-line:component-selector\n    selector: 'golden-layout',\n    templateUrl: 'golden-layout.component.html',\n    styleUrls: [\n        'golden-layout.component.scss'\n    ],\n    providers: []\n})\nexport class GoldenLayoutComponent {\n    static stateVersion = '1'; // also need change in saved workspaces\n    @ViewChild('glroot', {static: false}) private el: ElementRef;\n\n    popupsWindows: PopupWindowManager[] = [];\n    $onAddComponent = new Subject<any>();\n    $layoutEmpty = new BehaviorSubject<boolean>(false);\n    $stateChanged = new Subject();\n    goldenLayout: GoldenLayout;\n\n    private _destroy$ = new Subject();\n    private _labels: GoldenLayoutLabels = DefaultLabels;\n    private _resize$ = new Subject();\n    private _suppressChangeDetection = false;\n    private _isDestroyed = false;\n\n    get isLayoutEmpty(): boolean {\n        return this.$layoutEmpty.getValue();\n    }\n\n    static getSingleComponentLayoutConfig(componentConfig: ComponentConfig): IGoldenLayoutComponentState {\n        return {\n            version: GoldenLayoutComponent.stateVersion,\n            content: [\n                componentConfig\n            ]\n        };\n    }\n\n    constructor(private viewContainer: ViewContainerRef,\n                private _layoutManager: LayoutManagerService,\n                private componentFactoryResolver: ComponentFactoryResolver,\n                private ngZone: NgZone,\n                private _changeDetectorRef: ChangeDetectorRef,\n                private _appRef: ApplicationRef,\n                private injector: Injector,\n                @Inject(GoldenLayoutComponentConfiguration) private _configuration: IGoldenLayoutComponentConfiguration) {\n        this._layoutManager.setLayout(this);\n        this._setLabels(this._configuration.labels ? Object.assign({}, DefaultLabels, this._configuration.labels) : DefaultLabels);\n    }\n\n    ngOnInit() {\n        this._resize$\n            .pipe(\n                auditTime(10),\n                takeUntil(this._destroy$)\n            )\n            .subscribe(() => {\n                if (this.goldenLayout) {\n                    this.goldenLayout.updateSize();\n                }\n            });\n    }\n\n    ngDoCheck() {\n        if (!this._suppressChangeDetection) {\n            this.popupsWindows.forEach(w => w.runChangeDetection());\n        }\n    }\n\n    private _registerComponents() {\n        for (const component of this._configuration.components) {\n            this.goldenLayout.registerComponent(\n                component.componentName,\n                this.createComponentInitCallback(component)\n            );\n        }\n    }\n\n    private _createLayout(state: GoldenLayoutState): Promise<any> {\n        const createLayout = () => {\n            return new Promise((resolve) => {\n                const notOpenedPopupsComponents = [];\n\n                if (state.openPopups) {\n                    for (const itemConfig of state.openPopups) {\n                        const opened = this._openPopup(itemConfig);\n\n                        if (!opened) {\n                            notOpenedPopupsComponents.push(\n                                itemConfig\n                            );\n                        }\n                    }\n                }\n\n                if (notOpenedPopupsComponents.length) {\n                    const isLayoutEmpty = state.content.length === 0;\n\n                    if (isLayoutEmpty) {\n                        state.content = [\n                            {\n                                type: 'row',\n                                width: 100,\n                                height: 100,\n                                content: [\n                                    ...notOpenedPopupsComponents\n                                ]\n                            }\n                        ];\n                    } else {\n                        state.content = [\n                            {\n                                type: \"row\",\n                                width: 100,\n                                height: 100,\n                                content: [\n                                    Object.assign({}, state.content[0], {width: 50, height: 100}),\n                                    ...notOpenedPopupsComponents\n                                ]\n                            }\n                        ];\n                    }\n                }\n                this.goldenLayout = new GoldenLayout(state as GoldenLayoutNamespace.Config, $(this.el.nativeElement));\n                this.goldenLayout.on('stateChanged', (v) => {\n                    if (this.goldenLayout.isInitialised) {\n                        this.$stateChanged.next();\n                    }\n                });\n\n                this._registerComponents();\n\n                (window as any).gl = this.goldenLayout;\n                (window as any).glc = this;\n\n                this.goldenLayout.on('itemCreated', (item) => {\n                    this._handleItemCreated(item);\n                });\n\n                // Destory child angular components on golden-helpers container destruction.\n                this.goldenLayout.on('itemDestroyed', (item: any) => {\n                    const container = item.container;\n                    const component = container && container[COMPONENT_REF_KEY];\n\n                    if (component) {\n                        component.destroy();\n                        (container as any)[COMPONENT_REF_KEY] = null;\n                    }\n                });\n\n                this.goldenLayout.on('stackCreated', (stack) => {\n                    this._handleStackCreated(stack);\n                });\n\n                this.goldenLayout.eventHub.on('selectionChanged', (item: any) => {\n                });\n\n                this.goldenLayout.eventHub.on('columnCreated', (item: any) => {\n                });\n\n                this.goldenLayout.on('itemCreated', () => {\n                    this.$layoutEmpty.next(false);\n                });\n\n                this.goldenLayout.on('itemDestroyed', (() => {\n                    let _ignoredItem = null; // item that will be replaced\n\n                    return (item: GoldenLayoutNamespace.ContentItem) => {\n                        if (item.parent && (item.parent.isColumn || item.parent.isRow) && item.parent.contentItems.length === 2) {\n                            _ignoredItem = item.parent;\n                        }\n\n                        if (item !== _ignoredItem) {\n                            const isLayoutEmpty = this.goldenLayout.root.contentItems.filter((i) => i !== item).length === 0;\n                            this.$layoutEmpty.next(isLayoutEmpty);\n                            this._changeDetectorRef.detectChanges();\n                        }\n                    };\n                })());\n\n                this.goldenLayout.on('beforeItemDestroyed', (item: GoldenLayoutNamespace.ContentItem) => {\n                    if (item.isMaximised) {\n                        item.toggleMaximise(); // fix issue with deleting maximised component\n                    }\n                });\n\n                this.goldenLayout.on('initialised', () => {\n                    this.$layoutEmpty.next(this.goldenLayout.root.contentItems.length === 0);\n                        if (!this._isDestroyed) {\n                            this._changeDetectorRef.detectChanges();\n                        }\n                    // this.goldenLayout.updateSize();\n\n                    resolve();\n                });\n\n                // Initialize the helpers.\n                this.goldenLayout.init();\n            });\n        };\n\n        return new Promise((resolve, rej) => {\n            setTimeout(() => { // use timeout for correct sizing\n                resolve(createLayout());\n            }, 0);\n        });\n    }\n\n    @HostListener('window:resize', ['$event'])\n    public onResize(event: any): void {\n        this._resize$.next();\n    }\n\n    private _handleItemCreated(item: GoldenLayoutNamespace.ContentItem) {\n        try {\n            if (item.isStack && this._configuration.settings.showAddBtn !== false) {\n                const addComponentBtn = $(`<span class='${Class.addComponent}'></span>`);\n\n                this._getLabel('addComponent')\n                    .subscribe((label) => {\n                        addComponentBtn.attr('title', label);\n                    });\n\n                if (this._configuration.settings.getAddComponentBtnIcon) {\n                    addComponentBtn.append(this._configuration.settings.getAddComponentBtnIcon());\n                }\n\n                $((item as any).header.tabsContainer).append(addComponentBtn);\n\n                this.ngZone.run(() => {\n                    addComponentBtn.click(() => {\n                        this.$onAddComponent.next(item);\n                    });\n                });\n            }\n\n            item.on('resize', () => {\n                $(window).trigger('resize');\n            });\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    private _handleStackCreated(stack: any) {\n        if (this._configuration.settings.showCloseIcon !== false) {\n            this._addCloseBtn(stack);\n        } else {\n            stack.header.controlsContainer\n                .find(`.${Class.close}`).hide();\n        }\n\n        if (this._configuration.settings.showMaximiseIcon !== false) {\n            this._addMaximizeBtn(stack);\n        } else {\n            stack.header.controlsContainer\n                .find(`.${Class.maximise}`).hide();\n        }\n\n        if (this._configuration.settings.showPopoutIcon !== false) {\n            this._addPopoutBtn(stack);\n        } else {\n            stack.header.controlsContainer\n                .find(`.${Class.popout}`).hide();\n        }\n\n        this._getLabel('additionalTabs')\n            .subscribe((label) => {\n                stack.header.controlsContainer\n                    .find(`.${Class.tabsDropdown}`).attr('title', label);\n            });\n\n        if (this._configuration.settings.showPopinIcon !== false) {\n            this._addPopinBtn(stack);\n        }\n    }\n\n    public createComponentInitCallback(componentResolver: ComponentResolver): ComponentInitCallback {\n        const that = this;\n\n        return function (container: Container, state: any) {\n            that.ngZone.run(() => {\n                // Create an instance of the angular component.\n\n                const factory = that.componentFactoryResolver.resolveComponentFactory(that.injector.get(GoldenLayoutItemContainerToken) as Type<IGoldenLayoutItem>);\n                const injector = that._createComponentInjector(container, state.componentState, componentResolver);\n                const componentRef = that.viewContainer.createComponent(factory, undefined, injector);\n\n                // Bind the new component to container's client DOM element.\n                container.getElement().append($(componentRef.location.nativeElement));\n\n                that._bindEventHooks(container, componentRef);\n                // this._initComponent(container, componentRef.instance);\n\n                (window as any).container = container;\n\n                // Store a ref to the compoenentRef in the container to support destruction later on.\n                (container as any)[COMPONENT_REF_KEY] = componentRef;\n\n\n                // const factory = this.componentFactoryResolver.resolveComponentFactory(layoutItemClass);\n                // const injector = this._createComponentInjector(container, state.componentState);\n                // const componentRef = this.viewContainer.createComponent(factory, undefined, injector);\n                //\n                // // Bind the new component to container's client DOM element.\n                // container.getElement().append($(componentRef.location.nativeElement));\n                //\n                // this._bindEventHooks(container, componentRef);\n                // this._initComponent(container, componentRef.instance);\n                //\n                // (window as any).container = container;\n                //\n                // // Store a ref to the compoenentRef in the container to support destruction later on.\n                // (container as any)[COMPONENT_REF_KEY] = componentRef;\n            });\n        };\n    }\n\n    public fireStateChanged() {\n        this.$stateChanged.next();\n    }\n\n    /**\n     * Creates an injector capable of injecting the Layout object,\n     * component container, and initial component state.\n     */\n    private _createComponentInjector(container: any, state: any, componentResolver: ComponentResolver): Injector {\n        return ReflectiveInjector.resolveAndCreate([\n            {\n                provide: GoldenLayoutContainer,\n                useValue: container\n            },\n            {\n                provide: GoldenLayoutItemState,\n                useValue: state\n            },\n            {\n                provide: GoldenLayout,\n                useValue: this.goldenLayout\n            },\n            {\n                provide: GoldenLayoutComponent,\n                useValue: this\n            },\n            {\n                provide: GoldenLayoutItemComponentResolver,\n                useValue: componentResolver\n            }\n        ], this.injector);\n    }\n\n    /**\n     * Registers an event handler for each implemented hook.\n     * @param container Golden Layout component container.\n     * @param component Angular component instance.\n     */\n    private _bindEventHooks(container: any, componentRef: ComponentRef<IGoldenLayoutItem>): void {\n        const component = componentRef.instance as IGoldenLayoutItem;\n\n        container.on('resize', () => {\n            component.onResize();\n        });\n\n        container.on('show', () => {\n            component.onShow();\n        });\n\n        container.on('hide', () => {\n            component.onHide();\n        });\n\n        container.on('tab', (tab: GoldenLayoutNamespace.Tab) => {\n            this._handleTabCreated(tab);\n\n            if ((container as any)._config.isClosable) {\n                tab.element.addClass(Class.ClosableTab);\n            }\n\n            component.onTabCreated(tab.element as JQuery);\n        });\n    }\n\n    private _addPopoutBtn(stack: any) {\n        const popoutBtn = stack.header.controlsContainer\n            .find(`.${Class.popout}`);\n\n        popoutBtn.off();\n\n        this._getLabel('popout').pipe()\n            .subscribe((label) => {\n                popoutBtn.attr('title', label);\n            });\n\n        if (this._configuration.settings.getPopoutIcon) {\n            popoutBtn.append(this._configuration.settings.getPopoutIcon());\n        }\n\n        popoutBtn.click(() => {\n            this._handlePopupClick(stack);\n        });\n    }\n\n    private _addPopinBtn(stack: any) {\n        const popinBtn = $(`\n            <li class=\"${Class.popin}\"></li>\n        `);\n\n        this._getLabel('popin')\n            .subscribe((label) => {\n                popinBtn.attr('title', label);\n            });\n\n        popinBtn.append(this._configuration.settings.getPopinIcon());\n\n        fromEvent(popinBtn, 'click').pipe(\n            first()\n        ).subscribe(() => {\n            for (let component of stack.contentItems) {\n                this._saveItemState(component.container);\n            }\n\n            this._configuration.settings.popinHandler(stack.config);\n        });\n\n        stack.header.controlsContainer.find('.lm_tabdropdown').after(popinBtn);\n    }\n\n    private _getMaximiseIcon(): JQuery {\n        return this._configuration.settings.getMaximiseIcon\n            ? this._configuration.settings.getMaximiseIcon()\n            : null;\n    }\n\n    private _getMinimiseIcon(): JQuery {\n        return this._configuration.settings.getMinimiseIcon\n            ? this._configuration.settings.getMinimiseIcon()\n            : null;\n    }\n\n    private _addMaximizeBtn(stack: any) {\n        const updateBtn = (isMaximised: boolean) => {\n            const icon = isMaximised ? this._getMinimiseIcon() : this._getMaximiseIcon();\n            const maximiseBtn = stack.header.controlsContainer.find(`.${Class.maximise}`);\n\n            maximiseBtn.empty();\n\n            this._getLabel(isMaximised ? 'minimise' : 'maximise')\n                .subscribe((label: string) => {\n                    maximiseBtn.attr('title', label);\n                });\n\n            if (icon) {\n                maximiseBtn.append(icon);\n            }\n        };\n\n        stack.on('maximised', () => updateBtn(true));\n        stack.on('minimised', () => updateBtn(false));\n\n        updateBtn(false);\n    }\n\n    private _addCloseBtn(stack: any) {\n        const btn = stack.header.controlsContainer.find(`.${Class.close}`);\n\n        if (this._configuration.settings.getCloseIcon) {\n            btn.append(this._configuration.settings.getCloseIcon());\n        }\n\n        this._getLabel('close')\n            .subscribe((label) => {\n                btn.attr('title', label);\n            });\n    }\n\n    private _addCloseTabBtn(tab: GoldenLayoutNamespace.Tab) {\n        if (this._configuration.settings.getCloseTabIcon) {\n            tab.closeElement.append(this._configuration.settings.getCloseTabIcon());\n        }\n    }\n\n    private _handleTabCreated(tab: GoldenLayoutNamespace.Tab) {\n        if (this._configuration.settings.showCloseTabIcon !== false) {\n            this._addCloseTabBtn(tab);\n        } else {\n            tab.closeElement.hide();\n        }\n\n        this._addMobileTabDraggingSupport(tab);\n    }\n\n    private _handlePopupClick(stack: any) {\n        if (this._configuration.settings.canOpenPopupWindow != null && !this._configuration.settings.canOpenPopupWindow()) {\n            return;\n        }\n\n        const activeContentItem = stack.getActiveContentItem();\n        const parentId = activeContentItem.parent && activeContentItem.parent.config.id;\n\n        for (let item of stack.contentItems) {\n            this._saveItemState(item.container);\n        }\n\n        // activeContentItem.container.extendState({\n        //     componentState: activeContentItem.container[COMPONENT_REF_KEY].instance.saveState(),\n        //     parentId: parentId\n        // });\n\n        const componentConfig = stack.config;\n\n        this._openPopup(componentConfig);\n        stack.parent.removeChild(stack);\n    }\n\n    private _addMobileTabDraggingSupport(tab: GoldenLayoutNamespace.Tab) {\n        /*\n        * https://developer.mozilla.org/en-US/docs/Web/API/Touch/target\n        *\n        * If touchstart event target removed from DOM, then touchmove event won't be fired\n        *\n        * Solution: add overlay element to each tab, that will be replaced from tab container to body when touchstart\n        * event will be fired\n        *\n        *\n        * */\n\n        const tabDrag = $(`<span class=\"${Class.tabDrag}\"></span>`);\n        tabDrag.css({\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            'z-index': 1\n        });\n\n        $(tab.element).append(tabDrag);\n\n        if (this._configuration.settings.reorderEnabled !== false) {\n            this._overrideTabOnDragStart(tab);\n        }\n    }\n\n\n    private _overrideTabOnDragStart(tab: any) {\n        const origin = tab._onDragStart;\n        const dragListener = tab._dragListener;\n        const dragElement = $(tab.element).find(`.${Class.tabDrag}`);\n\n        dragListener.off('dragStart', origin, tab);\n        const onDragStart = function (x, y) {\n            dragElement.appendTo('body');\n            origin.call(tab, x, y);\n        };\n\n        tab._onDragStart = onDragStart;\n        dragListener.on('dragStart', (tab as any)._onDragStart, tab);\n        dragListener.on('dragStop', () => {\n            dragElement.remove();\n        }, null);\n    }\n\n    private _openPopup(componentConfig: GoldenLayoutNamespace.ItemConfig): boolean {\n        let popupWindow: Window;\n        let popupWindowManager: PopupWindowManager;\n\n        const popupWindowConfig: IPopupWindowManagerConfig = {\n            componentConfig: componentConfig,\n            layoutSettings: this._configuration.settings,\n            popinHandler: (_componentConfig) => {\n                popupWindow.close();\n                this.addItemAsColumn(_componentConfig);\n            },\n            popupStateChangedHandler: () => {\n                this.$stateChanged.next();\n            },\n            popupClosedHandler: (closedByUser: boolean) => {\n                if (closedByUser) {\n                    this.popupsWindows = this.popupsWindows.filter(p => p !== popupWindowManager);\n                    this.$stateChanged.next();\n                }\n            },\n            runChangeDetectionHandler: () => {\n                this._suppressChangeDetection = true;\n                this._appRef.tick();\n                this._suppressChangeDetection = false;\n                this.popupsWindows.filter(w => w !== popupWindowManager).forEach(w => w.runChangeDetection());\n            }\n        };\n\n        popupWindow = PopupWindowManager.openWindow(this._configuration.settings.popupWindowUrl);\n\n        if (!popupWindow) {\n            if (this._configuration.settings.openPopupFailureHandler) {\n                this._configuration.settings.openPopupFailureHandler();\n            }\n\n            return false;\n        }\n\n        if (this._configuration.settings.openPopupHook) {\n            this._configuration.settings.openPopupHook(popupWindow);\n        }\n\n        popupWindowManager = new PopupWindowManager(popupWindow, popupWindowConfig);\n\n        this.popupsWindows.push(popupWindowManager);\n\n        return true;\n    }\n\n    private _saveItemState(container: Container) {\n        container.setState(Object.assign({}, container.getState(), {\n            componentState: (container[COMPONENT_REF_KEY].instance as IGoldenLayoutItem).saveState()\n        }));\n    }\n\n    saveState(): GoldenLayoutState {\n        for (let component of this.getAllComponents()) {\n            this._saveItemState((component as any).container);\n        }\n\n        const state: GoldenLayoutState = {\n            ...this.goldenLayout.toConfig(),\n            openPopups: this.popupsWindows.map(p => p.saveState()),\n            version: GoldenLayoutComponent.stateVersion\n        };\n\n        return state;\n    }\n\n    loadState(state: IGoldenLayoutComponentState, fireStateChanged: boolean = false): Promise<any> {\n        if (this.goldenLayout && this.goldenLayout.isInitialised) {\n            this.goldenLayout.destroy();\n\n            if (this.popupsWindows.length) {\n                this.closePopups();\n                this.popupsWindows = [];\n            }\n        }\n\n        return this._createLayout(this._normalizeLayoutState(state))\n            .then(() => {\n                if (fireStateChanged) {\n                    this.$stateChanged.next();\n                }\n\n                return Promise.resolve();\n            });\n    }\n\n    saveItemState(itemId: string): any {\n        const items = this.goldenLayout.root.getItemsById(itemId);\n        const item = items && items.length ? items[0] : null;\n\n        if (!item) {\n            return null;\n        }\n\n        return item.config;\n    }\n\n    closePopups() {\n        this.popupsWindows.forEach((p) => {\n            p.close();\n        });\n    }\n\n    getAllComponents(): GoldenLayoutNamespace.ContentItem[] {\n        if (this.goldenLayout && this.goldenLayout.isInitialised) {\n            return this.goldenLayout.root.getItemsByType('component') as GoldenLayoutNamespace.ContentItem[];\n        }\n\n        return [];\n    }\n\n    private _normalizeLayoutState(state: IGoldenLayoutComponentState): IGoldenLayoutComponentState {\n        let normalizedState = Object.assign({}, state, {\n            settings: Object.assign({}, state.settings, {\n                tabControlOffset: this._configuration.settings.tabControlOffset != null ? this._configuration.settings.tabControlOffset : 100,\n                selectionEnabled: this._configuration.settings.selectionEnabled != null ? this._configuration.settings.selectionEnabled : false,\n                reorderEnabled: this._configuration.settings.reorderEnabled != null ? this._configuration.settings.reorderEnabled : true,\n                responsiveMode: this._configuration.settings.responsiveMode != null ? this._configuration.settings.responsiveMode : 'none',\n                showCloseIcon: this._configuration.settings.showCloseIcon != null ? this._configuration.settings.showCloseIcon : true\n            } as Partial<GoldenLayoutNamespace.Settings>) as GoldenLayoutNamespace.Settings\n        }) as IGoldenLayoutComponentState;\n\n        if (this._configuration.settings.dimensions) {\n            normalizedState.dimensions = this._configuration.settings.dimensions;\n        }\n\n        normalizedState = this._migrateState(normalizedState);\n\n        return normalizedState;\n    }\n\n    private _migrateState(state: GoldenLayoutState): IGoldenLayoutComponentState {\n      const stateVersion = state.version;\n\n      if (stateVersion === GoldenLayoutComponent.stateVersion) {\n        return state;\n      }\n\n      if (state.version == null || state.version !== GoldenLayoutComponent.stateVersion) {\n        console.warn(`Incompatible layout state verGoldenLayoutStatesions. Current layout state version: ${GoldenLayoutComponent.stateVersion}, your state version: ${state.version || 'none'}`);\n        state.content = []; // clear all components\n      }\n\n      return state;\n    }\n\n\n    async addItemAsColumn(componentConfig: GoldenLayoutNamespace.ComponentConfig) {\n        if (this.goldenLayout == null) {\n            try {\n                if (this.goldenLayout.isInitialised) {\n                    this.goldenLayout.destroy();\n                }\n\n                await this._createLayout(null);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        const layoutRoot = (this.goldenLayout.root as GoldenLayoutNamespace.ContentItem);\n\n        if (this.isLayoutEmpty) {\n            layoutRoot.addChild(componentConfig);\n            return;\n        }\n\n        if (layoutRoot.contentItems.length === 1 && layoutRoot.contentItems[0].isRow) {\n            layoutRoot.contentItems[0].addChild(componentConfig);\n            return;\n        }\n\n        const row = this.goldenLayout.createContentItem({\n            type: 'row',\n            id: (new Date()).getTime(), // (new Date()).getTime()\n            width: 100,\n            height: 100\n        }) as any;\n\n        const temp = this.goldenLayout.root.contentItems[0];\n\n        this.goldenLayout.root.replaceChild(\n            temp,\n            row\n        );\n\n        row.addChild(temp);\n        row.addChild(componentConfig);\n    }\n\n\n    async addComponentAsColumn(componentName: string, componentState) {\n        const componentConfig = this._createComponentContentItemConfig(componentName, componentState);\n        this.addItemAsColumn(componentConfig);\n    }\n\n\n    async addComponent(componentName: string, componentState, parent: GoldenLayoutNamespace.ContentItem) {\n        const componentConfig = this._createComponentContentItemConfig(componentName, componentState);\n\n        if (this.isLayoutEmpty) {\n            this.goldenLayout.root.addChild(componentConfig);\n            return;\n        }\n\n        if (!parent) {\n            this.addComponentAsColumn(componentName, componentState);\n        }\n\n        parent.addChild(componentConfig);\n    }\n\n    addItem(componentConfig: any) {\n        const isLayoutEmpty = this.goldenLayout.root.contentItems.length === 0;\n\n        const stack = {\n            type: 'stack',\n            id: (new Date()).getTime(),\n            content: [\n                componentConfig\n            ]\n        };\n\n        if (isLayoutEmpty) {\n            this.goldenLayout.root.addChild(stack);\n        } else {\n            const stackContentItem: any = this.goldenLayout.createContentItem({\n                type: 'stack',\n                id: (new Date()).getTime(),\n                content: []\n            });\n\n            stackContentItem.addChild(\n                this.goldenLayout.createContentItem(componentConfig)\n            );\n\n            const column = this.goldenLayout.createContentItem({\n                type: 'column',\n                id: (new Date()).getTime(),\n                width: 100,\n                height: 100\n            }) as any;\n\n            const temp = this.goldenLayout.root.contentItems[0];\n\n            this.goldenLayout.root.replaceChild(\n                temp,\n                column\n            );\n\n            column.addChild(temp);\n            column.addChild(stackContentItem);\n        }\n    }\n\n    getItemsById(id: string): any[] {\n        return (this.goldenLayout.root as any).getItemsById(id) as any[];\n    }\n\n    private _setLabels(labels: GoldenLayoutLabels) {\n        this._labels = Object.assign({}, DefaultLabels, labels);\n        const isLayoutInitialized = () => {\n            return this.goldenLayout && this.goldenLayout.isInitialised;\n        };\n\n        const getLabel = (label: keyof GoldenLayoutLabels): Observable<string> => {\n            return this._getLabel(label, false)\n                .pipe(\n                    filter(() => isLayoutInitialized()),\n                    takeUntil(this._destroy$)\n                );\n        };\n\n        getLabel('addComponent')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.addComponent}`).attr('title', label);\n            });\n\n        getLabel('close')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.close}`).attr('title', label);\n            });\n\n        getLabel('maximise')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.maximise}`).attr('title', label);\n            });\n\n        getLabel('minimise')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.lm_maximised .${Class.maximise}`).attr('title', label);\n            });\n\n        getLabel('popout')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.popout}`).attr('title', label);\n            });\n\n        getLabel('additionalTabs')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.tabsDropdown}`).attr('title', label);\n            });\n\n        getLabel('popin')\n            .subscribe((label: string) => {\n                $(this.el.nativeElement).find(`.${Class.popin}`).attr('title', label);\n            });\n    }\n\n    private _getLabel(label: keyof GoldenLayoutLabels, firstValue: boolean = true): Observable<string> {\n        const label$ = this._labels[label];\n\n        if (firstValue) {\n            return label$\n                .pipe(first());\n        }\n\n        return label$;\n    }\n\n    updateSize() {\n        if (this.goldenLayout) {\n            this.goldenLayout.updateSize();\n        }\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this._destroy$.complete();\n        this._isDestroyed = true;\n    }\n\n    clear() {\n    }\n\n    @HostListener('window:unload', ['$event'])\n    unloadNotification($event: any) {\n        this.closePopups();\n    }\n\n    destroy() {\n        this.closePopups();\n\n        this._destroy$.next();\n        this._destroy$.complete();\n    }\n\n    private _createComponentContentItemConfig(componentName: string, componentState): GoldenLayoutNamespace.ComponentConfig {\n        return {\n            type: 'component',\n            id: (new Date()).getTime().toString(),\n            componentName: componentName,\n            componentState: {\n                componentState: componentState\n            }\n        };\n    }\n}\n","import {ApplicationRef, Component, Inject, Injectable, Injector, OnInit, SkipSelf, ViewChild} from '@angular/core';\nimport {IGoldenLayoutComponentConfiguration, IGoldenLayoutComponentSettings} from '../../models/configuration';\nimport {GoldenLayoutComponent} from '../../components/golden-layout/golden-layout.component';\nimport {takeUntil} from 'rxjs/operators';\nimport {\n  IPopupWindowConfig,\n  PopupWindowConfigKey\n} from '../../popup-window-manager';\nimport ComponentConfig = GoldenLayoutNamespace.ComponentConfig;\nimport {GoldenLayoutComponentConfiguration} from '../../tokens/golden-layout-configuration.token';\nimport {Subject} from 'rxjs';\n\n@Injectable()\nexport class __Holder {\n  constructor(@SkipSelf() @Inject(GoldenLayoutComponentConfiguration) public configuration) {\n  }\n}\n\n\nexport function configurationFactory(injector: Injector, holder: __Holder) {\n  const configuration = holder.configuration;\n  const popupConfiguration = (window as any)[PopupWindowConfigKey] as IPopupWindowConfig;\n\n  return {\n    settings: {\n      ...configuration.settings,\n      popinHandler: (componentConfig: ComponentConfig) => {\n        delete componentConfig['width'];\n        popupConfiguration.popin(componentConfig);\n      }\n    },\n    labels: configuration.labels,\n    components: configuration.components\n  } as IGoldenLayoutComponentConfiguration;\n}\n\n@Component({\n  selector: 'golden-layout-popup',\n  templateUrl: './golden-layout-popup.component.html',\n  styleUrls: ['./golden-layout-popup.component.scss'],\n  providers: [\n    __Holder,\n    {\n      provide: GoldenLayoutComponentConfiguration,\n      useFactory: configurationFactory,\n      deps: [\n        Injector,\n        __Holder\n      ]\n    }\n  ]\n})\nexport class GoldenLayoutPopupComponent implements OnInit {\n  @ViewChild(GoldenLayoutComponent, {static: false}) layout: GoldenLayoutComponent;\n\n  private _popupConfiguration: IPopupWindowConfig;\n  private _componentConfig: any;\n  private _suppressChangeDetection: boolean = false;\n  private _destroy = new Subject();\n\n  constructor(private _appRef: ApplicationRef) {\n    const popupConfiguration = (window as any)[PopupWindowConfigKey] as IPopupWindowConfig;\n\n    popupConfiguration.needRunChangeDetection\n      .pipe(\n        takeUntil(this._destroy)\n      )\n      .subscribe(() => {\n        this._suppressChangeDetection = true;\n        this._appRef.tick();\n        this._suppressChangeDetection = false;\n      });\n\n    this._popupConfiguration = popupConfiguration;\n    this._componentConfig = popupConfiguration.componentConfig;\n  }\n\n  ngOnInit() {\n  }\n\n  ngDoCheck() {\n    if (!this._suppressChangeDetection) {\n      this._popupConfiguration.runChangeDetectionInRootWindow();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.layout.loadState(GoldenLayoutComponent.getSingleComponentLayoutConfig(this._componentConfig));\n    this.layout.$stateChanged\n      .pipe(takeUntil(this._destroy))\n      .subscribe(() => {\n        if (this.layout.getAllComponents().length === 0) {\n          window.close();\n          return;\n        }\n\n        this._popupConfiguration.fireStateChanged();\n      });\n\n    this._popupConfiguration.onLayoutCreated(this.layout);\n  }\n\n  ngOnDestroy() {\n    this._destroy.next();\n    this._destroy.complete();\n  }\n}\n","import Container = GoldenLayoutNamespace.Container;\nimport {Observable, Subject, Subscription} from 'rxjs';\nimport {Injector} from \"@angular/core\";\nimport {GoldenLayoutContainer} from \"./tokens/golden-layout-container.token\";\nimport {GoldenLayoutComponent} from \"./components/golden-layout/golden-layout.component\";\nimport {takeUntil} from \"rxjs/operators\";\nimport {IGoldenLayoutItem} from './models/golden-layout-item';\n\nexport class GoldenLayoutItem implements IGoldenLayoutItem {\n    protected _container: Container;\n    protected _goldenLayoutComponent: GoldenLayoutComponent;\n    protected _tabElement: JQuery;\n    private _titleSubscription: Subscription;\n    private _destroy = new Subject();\n\n    constructor(injector: Injector) {\n        this._container = injector.get(GoldenLayoutContainer) as Container;\n        this._goldenLayoutComponent = injector.get(GoldenLayoutComponent);\n    }\n\n    saveState(): any {\n        return null;\n    }\n\n    onResize() {\n    }\n\n    onShow() {\n    }\n\n    onHide() {\n    }\n\n    onTabCreated(tabElement: JQuery) {\n        this._tabElement = tabElement;\n    }\n\n    onContainerMaximized(isOwnContainer: boolean) {\n    }\n\n    onContainerMinimized(isOwnContainer: boolean) {\n    }\n\n    setTitle(title$: Observable<string>) {\n        if (this._titleSubscription) {\n            this._titleSubscription.unsubscribe();\n        }\n\n        this._titleSubscription = title$\n            .pipe(takeUntil(this._destroy))\n            .subscribe((title: string) => {\n                this._container.setTitle(title);\n            });\n    }\n\n    fireStateChanged() {\n        this._goldenLayoutComponent.fireStateChanged();\n    }\n\n    ngOnDestroy() {\n      this._destroy.next();\n      this._destroy.complete();\n    }\n}\n","import {\n  Component, ComponentFactory, ComponentFactoryResolver,\n  Inject,\n  Injector,\n  Type,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\n// import Container = GoldenLayoutNamespace.Container;\nimport {GoldenLayoutContainer} from \"../../tokens/golden-layout-container.token\";\nimport {GoldenLayoutItemComponentResolver} from \"../../tokens/golden-layout-item-component-factory.token\";\nimport {Observable, of} from \"rxjs\";\nimport {GoldenLayoutItem} from \"../../golden-layout-item\";\nimport {\n  ComponentResolver,\n  IComponentFactoryResolver,\n  IComponentTypeResolver,\n  IGoldenLayoutComponentConfiguration\n} from '../../models/configuration';\nimport {GoldenLayoutComponentConfiguration} from '../../tokens/golden-layout-configuration.token';\nimport {DefaultLabels} from '../../components/golden-layout/golden-layout.component';\nimport {IGoldenLayoutItem} from '../../models/golden-layout-item';\n\nenum LoadComponentState {\n  Loading,\n  Success,\n  Failed\n}\n\n@Component({\n    selector: 'golden-layout-item-container',\n    templateUrl: 'golden-layout-item-container.component.html',\n    styleUrls: ['golden-layout-item-container.component.scss']\n})\nexport class GoldenLayoutItemContainerComponent extends GoldenLayoutItem {\n    @ViewChild(\"componentContainer\", {read: ViewContainerRef, static: true}) componentContainer;\n    private _layoutItem: IGoldenLayoutItem;\n    protected _tabElement: JQuery;\n    loadComponentState: LoadComponentState;\n    LoadComponentState = LoadComponentState;\n\n    get loadingLabel(): Observable<string> {\n      return (this._configuration.labels && this._configuration.labels.loading)\n        ? this._configuration.labels.loading\n        : DefaultLabels.loading;\n    }\n\n    get failedToLoadLabel(): Observable<string> {\n      return (this._configuration.labels && this._configuration.labels.failedToLoadComponent)\n        ? this._configuration.labels.failedToLoadComponent\n        : DefaultLabels.failedToLoadComponent;\n    }\n\n    constructor(@Inject(GoldenLayoutContainer) protected _container: any,\n                @Inject(GoldenLayoutItemComponentResolver) private _componentResolver: ComponentResolver,\n                @Inject(GoldenLayoutComponentConfiguration) private _configuration: IGoldenLayoutComponentConfiguration,\n                private _componentFactoryResolver: ComponentFactoryResolver,\n                private _injector: Injector) {\n        super(_injector);\n    }\n\n    ngOnInit() {\n        this.setTitle(of('')); // fix\n        this.setTitle(this.loadingLabel);\n\n        if ((this._componentResolver as IComponentFactoryResolver).factory != null) {\n          this.loadComponentState = LoadComponentState.Loading;\n\n          (this._componentResolver as IComponentFactoryResolver).factory()\n            .subscribe({\n              next: (factory: ComponentFactory<any>) => {\n                this.setTitle(of(this._componentResolver.componentName));\n                const ref = this.componentContainer.createComponent(factory, undefined, this._injector);\n                ref.changeDetectorRef.detectChanges();\n\n                this._layoutItem = ref.instance as IGoldenLayoutItem;\n\n                if (this._tabElement) {\n                  this._layoutItem.onTabCreated(this._tabElement);\n                }\n\n                this.loadComponentState = LoadComponentState.Success;\n              },\n              error: (e) => {\n                console.error(e);\n                this.loadComponentState = LoadComponentState.Failed;\n                this.setTitle(this.failedToLoadLabel);\n              }\n            });\n        } else {\n          this.setTitle(of(this._componentResolver.componentName));\n\n          const componentFactory = this._componentFactoryResolver.resolveComponentFactory((this._componentResolver as IComponentTypeResolver).component);\n          const ref = this.componentContainer.createComponent(componentFactory, undefined, this._injector);\n          ref.changeDetectorRef.detectChanges();\n\n          this._layoutItem = ref.instance as IGoldenLayoutItem;\n\n          if (this._tabElement) {\n            this._layoutItem.onTabCreated(this._tabElement);\n          }\n\n          this.loadComponentState = LoadComponentState.Success;\n        }\n    }\n\n    saveState() {\n        if (this._layoutItem) {\n            return this._layoutItem.saveState();\n        }\n\n        return {};\n    }\n\n    onResize() {\n        if (this._layoutItem) {\n            this._layoutItem.onResize();\n        }\n    }\n\n    onShow() {\n        if (this._layoutItem) {\n            this._layoutItem.onShow();\n        }\n    }\n\n    onHide() {\n        if (this._layoutItem) {\n            this._layoutItem.onHide();\n        }\n    }\n\n    onTabCreated(tabElement: JQuery) {\n        if (this._layoutItem) {\n            this._layoutItem.onTabCreated(tabElement);\n        }\n\n        this._tabElement = tabElement;\n\n    }\n\n    onContainerMaximized(isOwnContainer: boolean) {\n        if (this._layoutItem) {\n            this._layoutItem.onContainerMaximized(isOwnContainer);\n        }\n    }\n\n    onContainerMinimized(isOwnContainer: boolean) {\n        if (this._layoutItem) {\n            this._layoutItem.onContainerMinimized(isOwnContainer);\n        }\n    }\n\n    ngOnDestroy() {\n    }\n\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {GoldenLayoutComponent} from './components/golden-layout/golden-layout.component';\nimport {LayoutManagerService} from \"./services/layout-manager.service\";\nimport {GoldenLayoutPopupComponent} from \"./components/golden-layout-popup/golden-layout-popup.component\";\nimport {GoldenLayoutItemContainerToken} from \"./tokens/golden-layout-item-container.token\";\nimport {GoldenLayoutItemContainerComponent} from \"./components/golden-layout-item-container/golden-layout-item-container.component\";\n\n@NgModule({\n    declarations: [GoldenLayoutComponent, GoldenLayoutItemContainerComponent, GoldenLayoutPopupComponent],\n    exports: [GoldenLayoutComponent, GoldenLayoutItemContainerComponent, GoldenLayoutPopupComponent],\n    imports: [CommonModule],\n    entryComponents: [\n        GoldenLayoutItemContainerComponent\n    ],\n    providers: [\n        {\n            provide: GoldenLayoutItemContainerToken,\n            useValue: GoldenLayoutItemContainerComponent\n        }\n    ]\n})\nexport class GoldenLayoutModule {\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: GoldenLayoutModule,\n            providers: [\n                LayoutManagerService\n            ]\n        };\n    }\n}\n","import Dimensions = GoldenLayoutNamespace.Dimensions;\nimport {PopinHandler} from \"../popup-window-manager\";\nimport {Observable} from \"rxjs\";\nimport {ComponentFactory, Injector, Type} from '@angular/core';\nimport {GoldenLayoutLabels} from '..';\n\nexport interface IGoldenLayoutComponentSettings {\n  hasHeaders?: boolean;\n  constrainDragToContainer?: boolean;\n  reorderEnabled?: boolean;\n  selectionEnabled?: boolean;\n  showPopoutIcon?: boolean;\n  getPopoutIcon?: () => JQuery;\n  showPopinIcon?: boolean;\n  getPopinIcon?: () => JQuery;\n  showMaximiseIcon?: boolean;\n  getMaximiseIcon?: () => any;\n  getMinimiseIcon?: () => any;\n  showAddBtn?: boolean;\n  getAddComponentBtnIcon?: () => any;\n  showCloseIcon?: boolean;\n  getCloseIcon?: () => JQuery;\n  showCloseTabIcon?: boolean;\n  getCloseTabIcon?: () => any;\n  dimensions?: Dimensions;\n  tabControlOffset?: number;\n  popupWindowUrl?: string;\n  popinHandler?: PopinHandler;\n  openPopupHook?: (w: Window) => void;\n  openPopupFailureHandler?: () => void;\n  responsiveMode?: 'onload' | 'always' | 'none';\n  canOpenPopupWindow?: () => boolean;\n}\n\nexport interface GoldenLayoutLabels {\n  addComponent?: Observable<string>;\n  additionalTabs?: Observable<string>;\n  maximise?: Observable<string>;\n  minimise?: Observable<string>;\n  popout?: Observable<string>;\n  popin?: Observable<string>;\n  close?: Observable<string>;\n  loading?: Observable<string>;\n  failedToLoadComponent?: Observable<string>;\n}\n\nexport interface IComponentTypeResolver {\n  componentName: string;\n  component: Type<any>;\n}\n\nexport interface IComponentFactoryResolver {\n  componentName: string;\n  factory: () => Observable<ComponentFactory<any>>;\n}\n\nexport type ComponentResolver = IComponentTypeResolver | IComponentFactoryResolver;\n\n\nexport interface IGoldenLayoutComponentConfiguration {\n  settings: IGoldenLayoutComponentSettings;\n  labels?: GoldenLayoutLabels;\n  components: ComponentResolver[];\n}\n","export interface IGoldenLayoutComponentState extends GoldenLayoutNamespace.Config {\n    version: string;\n    openPopups?: GoldenLayoutNamespace.ItemConfig[];\n}\n\n"],"names":[],"mappings":"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"}