!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-golden-layout",["exports","@angular/core","rxjs","rxjs/operators","@angular/common"],e):e((t=t||self)["angular-golden-layout"]={},t.ng.core,t.rxjs,t.rxjs.operators,t.ng.common)}(this,(function(t,e,n,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var a=function(){return(a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function s(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((o=o.apply(t,e||[])).next())}))}function l(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}var u=new e.InjectionToken("GoldenLayoutContainer"),g=new e.InjectionToken("GoldenLayoutItemComponentResolver");var m=function(){function t(){}return Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),t.prototype.setLayout=function(t){this._layout=t},t.prototype.addComponent=function(t){this.layout&&this.layout.addComponent(t.layoutItemName,t.state,t.parent)},t.prototype.addComponentAsColumn=function(t){this.layout&&this.layout.addComponentAsColumn(t.layoutItemName,t.state)},t.prototype.loadState=function(t,e){void 0===e&&(e=!1),this.layout&&this.layout.loadState(t,e)},t.prototype.clear=function(){this.layout&&this.layout.clear()},t.decorators=[{type:e.Injectable}],t}();var h=function(){function t(){}return t.generateGUID=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();var f="popupWindowConfigKey",_=function(){function t(t,e){var o=this;this.window=t,this.popupConfig=e,this.id=h.generateGUID(),this._closedByUser=!0,this._runChangeDetection$=new n.Subject,this.window[f]={componentConfig:e.componentConfig,layoutSettings:e.layoutSettings,popin:function(t){e.popinHandler(t)},fireStateChanged:function(){e.popupStateChangedHandler()},runChangeDetectionInRootWindow:function(){e.runChangeDetectionHandler()},needRunChangeDetection:this._runChangeDetection$.asObservable(),onLayoutCreated:function(t){o._popupLayout=t}},$(this.window).one("load",(function(){$(o.window).one("unload",(function(){e.popupClosedHandler(o._closedByUser),o.window.close()}))}))}return t.openWindow=function(e){var n=window.open(e,""+h.generateGUID(),t.serializeWindowOptions({width:500,height:500,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"}));return null==n?null:n},t.serializeWindowOptions=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join(",")},t.prototype.runChangeDetection=function(){this._runChangeDetection$.next()},t.prototype.saveState=function(){var t=this._popupLayout.saveState().content[0];return delete t.width,t},t.prototype.close=function(){this._closedByUser=!1,this.window.close()},t}();var y=new e.InjectionToken("wrapper"),b=new e.InjectionToken("GoldenLayoutComponentConfiguration"),v=new e.InjectionToken("GoldenLayoutItemState");var C={additionalTabs:n.of("Additional tabs"),addComponent:n.of("Add Component"),maximise:n.of("Maximise"),minimise:n.of("Minimise"),popout:n.of("Open in new window"),popin:n.of("Pop in"),close:n.of("Close"),loading:n.of("Loading"),failedToLoadComponent:n.of("Failed to load component")},w="lm_tabdropdown",x="lm_add-component",I="lm_close",L="lm_maximise",S="lm_popout",k="lm_popin",P="lm_tab_drag",j="closable-tab",D=function(){function t(t,e,o,i,r,a,s,l){this.viewContainer=t,this._layoutManager=e,this.componentFactoryResolver=o,this.ngZone=i,this._changeDetectorRef=r,this._appRef=a,this.injector=s,this._configuration=l,this.popupsWindows=[],this.$onAddComponent=new n.Subject,this.$layoutEmpty=new n.BehaviorSubject(!1),this.$stateChanged=new n.Subject,this._destroy$=new n.Subject,this._labels=C,this._resize$=new n.Subject,this._suppressChangeDetection=!1,this._isDestroyed=!1,this._layoutManager.setLayout(this),this._setLabels(this._configuration.labels?Object.assign({},C,this._configuration.labels):C)}return Object.defineProperty(t.prototype,"isLayoutEmpty",{get:function(){return this.$layoutEmpty.getValue()},enumerable:!0,configurable:!0}),t.getSingleComponentLayoutConfig=function(e){return{version:t.stateVersion,content:[e]}},t.prototype.ngOnInit=function(){var t=this;this._resize$.pipe(o.auditTime(10),o.takeUntil(this._destroy$)).subscribe((function(){t.goldenLayout&&t.goldenLayout.updateSize()}))},t.prototype.ngDoCheck=function(){this._suppressChangeDetection||this.popupsWindows.forEach((function(t){return t.runChangeDetection()}))},t.prototype._registerComponents=function(){var t,e;try{for(var n=p(this._configuration.components),o=n.next();!o.done;o=n.next()){var i=o.value;this.goldenLayout.registerComponent(i.componentName,this.createComponentInitCallback(i))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype._createLayout=function(t){var e=this;return new Promise((function(n,o){setTimeout((function(){n(new Promise((function(n){var o,i,r,a=[];if(t.openPopups)try{for(var s=p(t.openPopups),l=s.next();!l.done;l=s.next()){var d=l.value;e._openPopup(d)||a.push(d)}}catch(t){o={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}if(a.length){var u=0===t.content.length;t.content=u?[{type:"row",width:100,height:100,content:c(a)}]:[{type:"row",width:100,height:100,content:c([Object.assign({},t.content[0],{width:50,height:100})],a)}]}e.goldenLayout=new GoldenLayout(t,$(e.el.nativeElement)),e.goldenLayout.on("stateChanged",(function(t){e.goldenLayout.isInitialised&&e.$stateChanged.next()})),e._registerComponents(),window.gl=e.goldenLayout,window.glc=e,e.goldenLayout.on("itemCreated",(function(t){e._handleItemCreated(t)})),e.goldenLayout.on("itemDestroyed",(function(t){var e=t.container,n=e&&e.$componentRef;n&&(n.destroy(),e.$componentRef=null)})),e.goldenLayout.on("stackCreated",(function(t){e._handleStackCreated(t)})),e.goldenLayout.eventHub.on("selectionChanged",(function(t){})),e.goldenLayout.eventHub.on("columnCreated",(function(t){})),e.goldenLayout.on("itemCreated",(function(){e.$layoutEmpty.next(!1)})),e.goldenLayout.on("itemDestroyed",(r=null,function(t){if(t.parent&&(t.parent.isColumn||t.parent.isRow)&&2===t.parent.contentItems.length&&(r=t.parent),t!==r){var n=0===e.goldenLayout.root.contentItems.filter((function(e){return e!==t})).length;e.$layoutEmpty.next(n),e._changeDetectorRef.detectChanges()}})),e.goldenLayout.on("beforeItemDestroyed",(function(t){t.isMaximised&&t.toggleMaximise()})),e.goldenLayout.on("initialised",(function(){e.$layoutEmpty.next(0===e.goldenLayout.root.contentItems.length),e._isDestroyed||e._changeDetectorRef.detectChanges(),n()})),e.goldenLayout.init()})))}),0)}))},t.prototype.onResize=function(t){this._resize$.next()},t.prototype._handleItemCreated=function(t){var e=this;try{if(t.isStack&&!1!==this._configuration.settings.showAddBtn){var n=$("<span class='"+x+"'></span>");this._getLabel("addComponent").subscribe((function(t){n.attr("title",t)})),this._configuration.settings.getAddComponentBtnIcon&&n.append(this._configuration.settings.getAddComponentBtnIcon()),$(t.header.tabsContainer).append(n),this.ngZone.run((function(){n.click((function(){e.$onAddComponent.next(t)}))}))}t.on("resize",(function(){$(window).trigger("resize")}))}catch(t){console.error(t)}},t.prototype._handleStackCreated=function(t){!1!==this._configuration.settings.showCloseIcon?this._addCloseBtn(t):t.header.controlsContainer.find("."+I).hide(),!1!==this._configuration.settings.showMaximiseIcon?this._addMaximizeBtn(t):t.header.controlsContainer.find("."+L).hide(),!1!==this._configuration.settings.showPopoutIcon?this._addPopoutBtn(t):t.header.controlsContainer.find("."+S).hide(),this._getLabel("additionalTabs").subscribe((function(e){t.header.controlsContainer.find("."+w).attr("title",e)})),!1!==this._configuration.settings.showPopinIcon&&this._addPopinBtn(t)},t.prototype.createComponentInitCallback=function(t){var e=this;return(function(n,o){e.ngZone.run((function(){var i=e.componentFactoryResolver.resolveComponentFactory(e.injector.get(y)),r=e._createComponentInjector(n,o.componentState,t),a=e.viewContainer.createComponent(i,void 0,r);n.getElement().append($(a.location.nativeElement)),e._bindEventHooks(n,a),window.container=n,n.$componentRef=a}))})},t.prototype.fireStateChanged=function(){this.$stateChanged.next()},t.prototype._createComponentInjector=function(n,o,i){return e.ReflectiveInjector.resolveAndCreate([{provide:u,useValue:n},{provide:v,useValue:o},{provide:GoldenLayout,useValue:this.goldenLayout},{provide:t,useValue:this},{provide:g,useValue:i}],this.injector)},t.prototype._bindEventHooks=function(t,e){var n=this,o=e.instance;t.on("resize",(function(){o.onResize()})),t.on("show",(function(){o.onShow()})),t.on("hide",(function(){o.onHide()})),t.on("tab",(function(e){n._handleTabCreated(e),t._config.isClosable&&e.element.addClass(j),o.onTabCreated(e.element)}))},t.prototype._addPopoutBtn=function(t){var e=this,n=t.header.controlsContainer.find("."+S);n.off(),this._getLabel("popout").pipe().subscribe((function(t){n.attr("title",t)})),this._configuration.settings.getPopoutIcon&&n.append(this._configuration.settings.getPopoutIcon()),n.click((function(){e._handlePopupClick(t)}))},t.prototype._addPopinBtn=function(t){var e=this,i=$('\n            <li class="'+k+'"></li>\n        ');this._getLabel("popin").subscribe((function(t){i.attr("title",t)})),i.append(this._configuration.settings.getPopinIcon()),n.fromEvent(i,"click").pipe(o.first()).subscribe((function(){var n,o;try{for(var i=p(t.contentItems),r=i.next();!r.done;r=i.next()){var a=r.value;e._saveItemState(a.container)}}catch(t){n={error:t}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e._configuration.settings.popinHandler(t.config)})),t.header.controlsContainer.find(".lm_tabdropdown").after(i)},t.prototype._getMaximiseIcon=function(){return this._configuration.settings.getMaximiseIcon?this._configuration.settings.getMaximiseIcon():null},t.prototype._getMinimiseIcon=function(){return this._configuration.settings.getMinimiseIcon?this._configuration.settings.getMinimiseIcon():null},t.prototype._addMaximizeBtn=function(t){var e=this,n=function(n){var o=n?e._getMinimiseIcon():e._getMaximiseIcon(),i=t.header.controlsContainer.find("."+L);i.empty(),e._getLabel(n?"minimise":"maximise").subscribe((function(t){i.attr("title",t)})),o&&i.append(o)};t.on("maximised",(function(){return n(!0)})),t.on("minimised",(function(){return n(!1)})),n(!1)},t.prototype._addCloseBtn=function(t){var e=t.header.controlsContainer.find("."+I);this._configuration.settings.getCloseIcon&&e.append(this._configuration.settings.getCloseIcon()),this._getLabel("close").subscribe((function(t){e.attr("title",t)}))},t.prototype._addCloseTabBtn=function(t){this._configuration.settings.getCloseTabIcon&&t.closeElement.append(this._configuration.settings.getCloseTabIcon())},t.prototype._handleTabCreated=function(t){!1!==this._configuration.settings.showCloseTabIcon?this._addCloseTabBtn(t):t.closeElement.hide(),this._addMobileTabDraggingSupport(t)},t.prototype._handlePopupClick=function(t){var e,n;if(null==this._configuration.settings.canOpenPopupWindow||this._configuration.settings.canOpenPopupWindow()){var o=t.getActiveContentItem();o.parent&&o.parent.config.id;try{for(var i=p(t.contentItems),r=i.next();!r.done;r=i.next()){var a=r.value;this._saveItemState(a.container)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}var s=t.config;this._openPopup(s),t.parent.removeChild(t)}},t.prototype._addMobileTabDraggingSupport=function(t){var e=$('<span class="'+P+'"></span>');e.css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":1}),$(t.element).append(e),!1!==this._configuration.settings.reorderEnabled&&this._overrideTabOnDragStart(t)},t.prototype._overrideTabOnDragStart=function(t){var e=t._onDragStart,n=t._dragListener,o=$(t.element).find("."+P);n.off("dragStart",e,t);t._onDragStart=function(n,i){o.appendTo("body"),e.call(t,n,i)},n.on("dragStart",t._onDragStart,t),n.on("dragStop",(function(){o.remove()}),null)},t.prototype._openPopup=function(t){var e,n,o=this,i={componentConfig:t,layoutSettings:this._configuration.settings,popinHandler:function(t){e.close(),o.addItemAsColumn(t)},popupStateChangedHandler:function(){o.$stateChanged.next()},popupClosedHandler:function(t){t&&(o.popupsWindows=o.popupsWindows.filter((function(t){return t!==n})),o.$stateChanged.next())},runChangeDetectionHandler:function(){o._suppressChangeDetection=!0,o._appRef.tick(),o._suppressChangeDetection=!1,o.popupsWindows.filter((function(t){return t!==n})).forEach((function(t){return t.runChangeDetection()}))}};return(e=_.openWindow(this._configuration.settings.popupWindowUrl))?(this._configuration.settings.openPopupHook&&this._configuration.settings.openPopupHook(e),n=new _(e,i),this.popupsWindows.push(n),!0):(this._configuration.settings.openPopupFailureHandler&&this._configuration.settings.openPopupFailureHandler(),!1)},t.prototype._saveItemState=function(t){t.setState(Object.assign({},t.getState(),{componentState:t.$componentRef.instance.saveState()}))},t.prototype.saveState=function(){var e,n;try{for(var o=p(this.getAllComponents()),i=o.next();!i.done;i=o.next()){var r=i.value;this._saveItemState(r.container)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return a({},this.goldenLayout.toConfig(),{openPopups:this.popupsWindows.map((function(t){return t.saveState()})),version:t.stateVersion})},t.prototype.loadState=function(t,e){var n=this;return void 0===e&&(e=!1),this.goldenLayout&&this.goldenLayout.isInitialised&&(this.goldenLayout.destroy(),this.popupsWindows.length&&(this.closePopups(),this.popupsWindows=[])),this._createLayout(this._normalizeLayoutState(t)).then((function(){return e&&n.$stateChanged.next(),Promise.resolve()}))},t.prototype.saveItemState=function(t){var e=this.goldenLayout.root.getItemsById(t),n=e&&e.length?e[0]:null;return n?n.config:null},t.prototype.closePopups=function(){this.popupsWindows.forEach((function(t){t.close()}))},t.prototype.getAllComponents=function(){return this.goldenLayout&&this.goldenLayout.isInitialised?this.goldenLayout.root.getItemsByType("component"):[]},t.prototype._normalizeLayoutState=function(t){var e=Object.assign({},t,{settings:Object.assign({},t.settings,{tabControlOffset:null!=this._configuration.settings.tabControlOffset?this._configuration.settings.tabControlOffset:100,selectionEnabled:null!=this._configuration.settings.selectionEnabled&&this._configuration.settings.selectionEnabled,reorderEnabled:null==this._configuration.settings.reorderEnabled||this._configuration.settings.reorderEnabled,responsiveMode:null!=this._configuration.settings.responsiveMode?this._configuration.settings.responsiveMode:"none",showCloseIcon:null==this._configuration.settings.showCloseIcon||this._configuration.settings.showCloseIcon})});return this._configuration.settings.dimensions&&(e.dimensions=this._configuration.settings.dimensions),e=this._migrateState(e)},t.prototype._migrateState=function(e){return e.version===t.stateVersion?e:(null!=e.version&&e.version===t.stateVersion||(console.warn("Incompatible layout state verGoldenLayoutStatesions. Current layout state version: "+t.stateVersion+", your state version: "+(e.version||"none")),e.content=[]),e)},t.prototype.addItemAsColumn=function(t){return s(this,void 0,void 0,(function(){var e,n,o,i;return l(this,(function(r){switch(r.label){case 0:if(null!=this.goldenLayout)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.goldenLayout.isInitialised&&this.goldenLayout.destroy(),[4,this._createLayout(null)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),console.error(e),[3,4];case 4:return n=this.goldenLayout.root,this.isLayoutEmpty?(n.addChild(t),[2]):1===n.contentItems.length&&n.contentItems[0].isRow?(n.contentItems[0].addChild(t),[2]):(o=this.goldenLayout.createContentItem({type:"row",id:(new Date).getTime(),width:100,height:100}),i=this.goldenLayout.root.contentItems[0],this.goldenLayout.root.replaceChild(i,o),o.addChild(i),o.addChild(t),[2])}}))}))},t.prototype.addComponentAsColumn=function(t,e){return s(this,void 0,void 0,(function(){var n;return l(this,(function(o){return n=this._createComponentContentItemConfig(t,e),this.addItemAsColumn(n),[2]}))}))},t.prototype.addComponent=function(t,e,n){return s(this,void 0,void 0,(function(){var o;return l(this,(function(i){return o=this._createComponentContentItemConfig(t,e),this.isLayoutEmpty?(this.goldenLayout.root.addChild(o),[2]):(n||this.addComponentAsColumn(t,e),n.addChild(o),[2])}))}))},t.prototype.addItem=function(t){var e=0===this.goldenLayout.root.contentItems.length,n={type:"stack",id:(new Date).getTime(),content:[t]};if(e)this.goldenLayout.root.addChild(n);else{var o=this.goldenLayout.createContentItem({type:"stack",id:(new Date).getTime(),content:[]});o.addChild(this.goldenLayout.createContentItem(t));var i=this.goldenLayout.createContentItem({type:"column",id:(new Date).getTime(),width:100,height:100}),r=this.goldenLayout.root.contentItems[0];this.goldenLayout.root.replaceChild(r,i),i.addChild(r),i.addChild(o)}},t.prototype.getItemsById=function(t){return this.goldenLayout.root.getItemsById(t)},t.prototype._setLabels=function(t){var e=this;this._labels=Object.assign({},C,t);var n=function(t){return e._getLabel(t,!1).pipe(o.filter((function(){return e.goldenLayout&&e.goldenLayout.isInitialised})),o.takeUntil(e._destroy$))};n("addComponent").subscribe((function(t){$(e.el.nativeElement).find("."+x).attr("title",t)})),n("close").subscribe((function(t){$(e.el.nativeElement).find("."+I).attr("title",t)})),n("maximise").subscribe((function(t){$(e.el.nativeElement).find("."+L).attr("title",t)})),n("minimise").subscribe((function(t){$(e.el.nativeElement).find(".lm_maximised ."+L).attr("title",t)})),n("popout").subscribe((function(t){$(e.el.nativeElement).find("."+S).attr("title",t)})),n("additionalTabs").subscribe((function(t){$(e.el.nativeElement).find("."+w).attr("title",t)})),n("popin").subscribe((function(t){$(e.el.nativeElement).find("."+k).attr("title",t)}))},t.prototype._getLabel=function(t,e){void 0===e&&(e=!0);var n=this._labels[t];return e?n.pipe(o.first()):n},t.prototype.updateSize=function(){this.goldenLayout&&this.goldenLayout.updateSize()},t.prototype.ngOnDestroy=function(){this._destroy$.next(),this._destroy$.complete(),this._isDestroyed=!0},t.prototype.clear=function(){},t.prototype.unloadNotification=function(t){this.closePopups()},t.prototype.destroy=function(){this.closePopups(),this._destroy$.next(),this._destroy$.complete()},t.prototype._createComponentContentItemConfig=function(t,e){return{type:"component",id:(new Date).getTime().toString(),componentName:t,componentState:{componentState:e}}},t.stateVersion="1",t.decorators=[{type:e.Component,args:[{selector:"golden-layout",template:'<div class="golden-layout">\n    <div class="ng-golden-layout-root" #glroot [ngClass]="{invisible: isLayoutEmpty}"></div>\n    <div class="placeholder" [ngClass]="{invisible: !isLayoutEmpty}">\n        <ng-content></ng-content>\n    </div>\n</div>\n',providers:[],styles:['a{background-color:red}::ng-deep .lm_root{position:relative}::ng-deep .lm_row>.lm_item{float:left}::ng-deep .lm_content{overflow:hidden;position:relative}::ng-deep .lm_dragging,::ng-deep .lm_dragging *{cursor:move!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}::ng-deep .lm_maximised{position:absolute;top:0;left:0;z-index:40}::ng-deep .lm_maximise_placeholder{display:none}::ng-deep .lm_splitter{position:relative;z-index:20}::ng-deep .lm_splitter.lm_vertical .lm_drag_handle{width:100%;position:absolute;cursor:ns-resize}::ng-deep .lm_splitter.lm_horizontal{float:left;height:100%}::ng-deep .lm_splitter.lm_horizontal .lm_drag_handle{height:100%;position:absolute;cursor:ew-resize}::ng-deep .lm_header{overflow:visible;position:relative}::ng-deep .lm_header [class^=lm_]{box-sizing:content-box!important}::ng-deep .lm_header .lm_controls{position:absolute;right:3px}::ng-deep .lm_header .lm_controls>li{cursor:pointer;float:left;width:18px;height:18px;text-align:center}::ng-deep .lm_header ul{margin:0;padding:0;list-style-type:none}::ng-deep .lm_header .lm_tabs{position:absolute}::ng-deep .lm_header .lm_tab{cursor:pointer;float:left;margin-top:1px;padding:2px 25px 7px 10px;position:relative}::ng-deep .lm_header .lm_tab i{width:2px;height:19px;position:absolute}::ng-deep .lm_header .lm_tab i.lm_left{top:0;left:-2px}::ng-deep .lm_header .lm_tab i.lm_right{top:0;right:-2px}::ng-deep .lm_header .lm_tab .lm_title{display:inline-block;overflow:hidden;text-overflow:ellipsis}::ng-deep .lm_header .lm_tab .lm_close_tab{width:14px;height:14px;position:absolute;top:0;right:11px;text-align:center}::ng-deep .lm_stack.lm_left .lm_header,::ng-deep .lm_stack.lm_right .lm_header{height:100%}::ng-deep .lm_dragProxy.lm_left .lm_header,::ng-deep .lm_dragProxy.lm_right .lm_header,::ng-deep .lm_stack.lm_left .lm_header,::ng-deep .lm_stack.lm_right .lm_header{width:20px;float:left;vertical-align:top}::ng-deep .lm_dragProxy.lm_left .lm_header .lm_tabs,::ng-deep .lm_dragProxy.lm_right .lm_header .lm_tabs,::ng-deep .lm_stack.lm_left .lm_header .lm_tabs,::ng-deep .lm_stack.lm_right .lm_header .lm_tabs{-webkit-transform-origin:left top;transform-origin:left top;top:0;width:1000px}::ng-deep .lm_dragProxy.lm_left .lm_header .lm_controls,::ng-deep .lm_dragProxy.lm_right .lm_header .lm_controls,::ng-deep .lm_stack.lm_left .lm_header .lm_controls,::ng-deep .lm_stack.lm_right .lm_header .lm_controls{bottom:0}::ng-deep .lm_dragProxy.lm_left .lm_items,::ng-deep .lm_dragProxy.lm_right .lm_items,::ng-deep .lm_stack.lm_left .lm_items,::ng-deep .lm_stack.lm_right .lm_items{float:left}::ng-deep .lm_dragProxy.lm_left .lm_header .lm_tabs,::ng-deep .lm_stack.lm_left .lm_header .lm_tabs{-webkit-transform:rotate(-90deg) scaleX(-1);transform:rotate(-90deg) scaleX(-1);left:0}::ng-deep .lm_dragProxy.lm_left .lm_header .lm_tabs .lm_tab,::ng-deep .lm_stack.lm_left .lm_header .lm_tabs .lm_tab{-webkit-transform:scaleX(-1);transform:scaleX(-1);margin-top:1px}::ng-deep .lm_dragProxy.lm_left .lm_header .lm_tabdropdown_list,::ng-deep .lm_stack.lm_left .lm_header .lm_tabdropdown_list{top:initial;right:initial;left:20px}::ng-deep .lm_dragProxy.lm_right .lm_content{float:left}::ng-deep .lm_dragProxy.lm_right .lm_header .lm_tabs,::ng-deep .lm_stack.lm_right .lm_header .lm_tabs{-webkit-transform:rotate(90deg) scaleX(1);transform:rotate(90deg) scaleX(1);left:100%;margin-left:0}::ng-deep .lm_dragProxy.lm_right .lm_header .lm_controls,::ng-deep .lm_stack.lm_right .lm_header .lm_controls{left:3px}::ng-deep .lm_dragProxy.lm_right .lm_header .lm_tabdropdown_list,::ng-deep .lm_stack.lm_right .lm_header .lm_tabdropdown_list{top:initial;right:20px}::ng-deep .lm_dragProxy.lm_bottom .lm_header .lm_tab,::ng-deep .lm_stack.lm_bottom .lm_header .lm_tab{margin-top:0;border-top:none}::ng-deep .lm_dragProxy.lm_bottom .lm_header .lm_controls,::ng-deep .lm_stack.lm_bottom .lm_header .lm_controls{top:3px}::ng-deep .lm_dragProxy.lm_bottom .lm_header .lm_tabdropdown_list,::ng-deep .lm_stack.lm_bottom .lm_header .lm_tabdropdown_list{top:initial;bottom:20px}::ng-deep .lm_drop_tab_placeholder{float:left;width:100px;height:10px;visibility:hidden}::ng-deep .lm_header .lm_controls .lm_tabdropdown:before{content:"";width:0;height:0;vertical-align:middle;display:inline-block;border-top:5px dashed;border-right:5px solid transparent;border-left:5px solid transparent;color:#fff}::ng-deep .lm_header .lm_tabdropdown_list{position:absolute;top:20px;right:0;z-index:5;overflow:hidden}::ng-deep .lm_header .lm_tabdropdown_list .lm_tab{width:100%;clear:both;padding-right:10px;margin:0}::ng-deep .lm_header .lm_tabdropdown_list .lm_tab .lm_title{width:100%;min-width:60px}::ng-deep .lm_header .lm_tabdropdown_list .lm_close_tab{display:none!important}::ng-deep .lm_header .lm_add-component{width:24px;display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin-top:1px;cursor:pointer;background-position:center center;background-repeat:no-repeat;background-size:10px 10px}::ng-deep .lm_dragProxy{position:absolute;top:0;left:0}::ng-deep .lm_dragProxy .lm_header{background:0 0}::ng-deep .lm_dragProxy .lm_content{border-top:none;overflow:hidden}::ng-deep .lm_dropTargetIndicator{display:none;position:absolute}::ng-deep .lm_dropTargetIndicator .lm_inner{width:100%;height:100%;position:relative;top:0;left:0}::ng-deep .lm_transition_indicator{display:none;width:20px;height:20px;position:absolute;top:0;left:0;z-index:20}:host{display:-webkit-box;display:flex;width:100%}:host .ng-golden-layout-root{width:100%;height:100%}.golden-layout{display:-webkit-box;display:flex;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:relative}::ng-deep .lm_items{z-index:0;position:relative}::ng-deep .lm_header{z-index:1;min-width:270px;height:28px}::ng-deep .lm_header .lm_tabdropdown_list{max-height:200px;overflow-y:auto;border:1px solid rgba(83,82,82,.37)}::ng-deep .lm_header .lm_tab{height:18px;padding-bottom:4px;padding-top:5px;padding-right:35px;margin-right:1px;box-shadow:none;border-top-right-radius:3px}::ng-deep .lm_header .lm_tab:not(.closable-tab){padding-right:10px}::ng-deep .lm_header .lm_title{font-size:12px;white-space:nowrap;max-width:100px}::ng-deep .lm_header .lm_add-component{height:25px}::ng-deep .lm_header .lm_close_tab{z-index:2}::ng-deep .lm_header .lm_tab_drag{z-index:1}::ng-deep .lm_header .gl-icon{width:9px;height:9px}::ng-deep .lm_controls{top:50%;-webkit-transform:translateY(-50%)!important;transform:translateY(-50%)!important;right:9px!important}::ng-deep .lm_controls>li{opacity:1!important}::ng-deep .lm_controls>li:not(:last-of-type){margin-right:3px}::ng-deep .lm_add-component i{margin-top:2px}::ng-deep .lm_add-component i:before{font-weight:900}::ng-deep .lm_close_tab{top:3px!important}::ng-deep .lm_close_tab i{position:absolute;right:7px;top:4px;font-size:9px;cursor:pointer;opacity:.8}::ng-deep .lm_close_tab i:hover{opacity:1}::ng-deep .lm_dropTargetIndicator{z-index:1000}::ng-deep .lm_dragProxy{z-index:1001}.invisible{position:absolute;height:0;z-index:-999}']}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:m},{type:e.ComponentFactoryResolver},{type:e.NgZone},{type:e.ChangeDetectorRef},{type:e.ApplicationRef},{type:e.Injector},{type:void 0,decorators:[{type:e.Inject,args:[b]}]}]},t.propDecorators={el:[{type:e.ViewChild,args:["glroot",{static:!1}]}],onResize:[{type:e.HostListener,args:["window:resize",["$event"]]}],unloadNotification:[{type:e.HostListener,args:["window:unload",["$event"]]}]},t}();var T=function(){function t(t){this.configuration=t}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.SkipSelf},{type:e.Inject,args:[b]}]}]},t}();function z(t,e){var n=e.configuration,o=window[f];return{settings:a({},n.settings,{popinHandler:function(t){delete t.width,o.popin(t)}}),labels:n.labels,components:n.components}}var R=function(){function t(t){var e=this;this._appRef=t,this._suppressChangeDetection=!1,this._destroy=new n.Subject;var i=window[f];i.needRunChangeDetection.pipe(o.takeUntil(this._destroy)).subscribe((function(){e._suppressChangeDetection=!0,e._appRef.tick(),e._suppressChangeDetection=!1})),this._popupConfiguration=i,this._componentConfig=i.componentConfig}return t.prototype.ngOnInit=function(){},t.prototype.ngDoCheck=function(){this._suppressChangeDetection||this._popupConfiguration.runChangeDetectionInRootWindow()},t.prototype.ngAfterViewInit=function(){var t=this;this.layout.loadState(D.getSingleComponentLayoutConfig(this._componentConfig)),this.layout.$stateChanged.pipe(o.takeUntil(this._destroy)).subscribe((function(){0!==t.layout.getAllComponents().length?t._popupConfiguration.fireStateChanged():window.close()})),this._popupConfiguration.onLayoutCreated(this.layout)},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete()},t.decorators=[{type:e.Component,args:[{selector:"golden-layout-popup",template:"<golden-layout></golden-layout>\n",providers:[T,{provide:b,useFactory:z,deps:[e.Injector,T]}],styles:[":host{display:block;height:100%}:host golden-layout{height:100%}"]}]}],t.ctorParameters=function(){return[{type:e.ApplicationRef}]},t.propDecorators={layout:[{type:e.ViewChild,args:[D,{static:!1}]}]},t}();var E=function(){function t(t){this._destroy=new n.Subject,this._container=t.get(u),this._goldenLayoutComponent=t.get(D)}return t.prototype.saveState=function(){return null},t.prototype.onResize=function(){},t.prototype.onShow=function(){},t.prototype.onHide=function(){},t.prototype.onTabCreated=function(t){this._tabElement=t},t.prototype.onContainerMaximized=function(t){},t.prototype.onContainerMinimized=function(t){},t.prototype.setTitle=function(t){var e=this;this._titleSubscription&&this._titleSubscription.unsubscribe(),this._titleSubscription=t.pipe(o.takeUntil(this._destroy)).subscribe((function(t){e._container.setTitle(t)}))},t.prototype.fireStateChanged=function(){this._goldenLayoutComponent.fireStateChanged()},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete()},t}();var M={Loading:0,Success:1,Failed:2};M[M.Loading]="Loading",M[M.Success]="Success",M[M.Failed]="Failed";var O=function(t){function o(e,n,o,i,r){var a=t.call(this,r)||this;return a._container=e,a._componentResolver=n,a._configuration=o,a._componentFactoryResolver=i,a._injector=r,a.LoadComponentState=M,a}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(o,t),Object.defineProperty(o.prototype,"loadingLabel",{get:function(){return this._configuration.labels&&this._configuration.labels.loading?this._configuration.labels.loading:C.loading},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"failedToLoadLabel",{get:function(){return this._configuration.labels&&this._configuration.labels.failedToLoadComponent?this._configuration.labels.failedToLoadComponent:C.failedToLoadComponent},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){var t=this;if(this.setTitle(n.of("")),this.setTitle(this.loadingLabel),null!=this._componentResolver.factory)this.loadComponentState=M.Loading,this._componentResolver.factory().subscribe({next:function(e){t.setTitle(n.of(t._componentResolver.componentName));var o=t.componentContainer.createComponent(e,void 0,t._injector);o.changeDetectorRef.detectChanges(),t._layoutItem=o.instance,t._tabElement&&t._layoutItem.onTabCreated(t._tabElement),t.loadComponentState=M.Success},error:function(e){console.error(e),t.loadComponentState=M.Failed,t.setTitle(t.failedToLoadLabel)}});else{this.setTitle(n.of(this._componentResolver.componentName));var e=this._componentFactoryResolver.resolveComponentFactory(this._componentResolver.component),o=this.componentContainer.createComponent(e,void 0,this._injector);o.changeDetectorRef.detectChanges(),this._layoutItem=o.instance,this._tabElement&&this._layoutItem.onTabCreated(this._tabElement),this.loadComponentState=M.Success}},o.prototype.saveState=function(){return this._layoutItem?this._layoutItem.saveState():{}},o.prototype.onResize=function(){this._layoutItem&&this._layoutItem.onResize()},o.prototype.onShow=function(){this._layoutItem&&this._layoutItem.onShow()},o.prototype.onHide=function(){this._layoutItem&&this._layoutItem.onHide()},o.prototype.onTabCreated=function(t){this._layoutItem&&this._layoutItem.onTabCreated(t),this._tabElement=t},o.prototype.onContainerMaximized=function(t){this._layoutItem&&this._layoutItem.onContainerMaximized(t)},o.prototype.onContainerMinimized=function(t){this._layoutItem&&this._layoutItem.onContainerMinimized(t)},o.prototype.ngOnDestroy=function(){},o.decorators=[{type:e.Component,args:[{selector:"golden-layout-item-container",template:'<div class="root">\n    <div class="component-wrapper">\n        <div class="loader-wrapper flex align-items-center justify-content-center" *ngIf="loadComponentState === LoadComponentState.Failed || loadComponentState === LoadComponentState.Loading">\n            <span *ngIf="loadComponentState === LoadComponentState.Loading">{{loadingLabel | async}}</span>\n            <span *ngIf="loadComponentState === LoadComponentState.Failed">{{failedToLoadLabel | async}}</span>\n        </div>\n        <template #componentContainer></template>\n    </div>\n</div>\n',styles:[".component-wrapper,.loader-wrapper,.root{width:100%;height:100%}.loader-wrapper span{font-size:14px}template+*{width:100%;height:100%}"]}]}],o.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[u]}]},{type:void 0,decorators:[{type:e.Inject,args:[g]}]},{type:void 0,decorators:[{type:e.Inject,args:[b]}]},{type:e.ComponentFactoryResolver},{type:e.Injector}]},o.propDecorators={componentContainer:[{type:e.ViewChild,args:["componentContainer",{read:e.ViewContainerRef,static:!0}]}]},o}(E);var H=O,A=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[m]}},t.decorators=[{type:e.NgModule,args:[{declarations:[D,O,R],exports:[D,O,R],imports:[i.CommonModule],entryComponents:[O],providers:[{provide:y,useValue:H}]}]}],t}();t.DefaultLabels=C,t.GoldenLayoutComponent=D,t.GoldenLayoutComponentConfiguration=b,t.GoldenLayoutItem=E,t.GoldenLayoutItemState=v,t.GoldenLayoutModule=A,t.GoldenLayoutPopupComponent=R,t.LayoutManagerService=m,t.__Holder=T,t.configurationFactory=z,t.ɵa=O,t.ɵb=u,t.ɵc=g,t.ɵd=y,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-golden-layout.umd.min.js.map