<div class="crypto-modal">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" (click)="close()"><i class="crypto-icon crypto-icon-close"></i></button>
            <h4 class="modal-title">Neural Agent Sync Settings</h4>
        </div>
        <div class="modal-body" *ngIf="!loading; else loader">
            <div class="remove-broker" *ngIf="!!existingAccount; else add_account">
                <div class="value-tips">
                    {{ 'brokerAccountIdTips' | translate }}
                </div>
                <div class="value-account">
                    <div class="value-account-id">
                        {{ existingAccount.accountId }}
                    </div>
                    <div class="value-account-state">
                        {{ existingAccount.isActive ? "Active" : "Disabled" }}
                    </div>
                </div>

            

                <div class="btn-wrapper">
                    <div class="download-agent">
                 
                       <span>
                            
                            <a href="{{downloadLink}}">
                                Download Neural Agent 1.2<i class="fa fa-cloud-download" aria-hidden="true"></i>
                            </a>
                        </span>
                    </div>

                    <button class="crypto-button crypto-button_danger" [disabled]="false" (click)="remove()">
                        Detach Neural Agent
                    </button>
                </div>
                <span class="warningx">Warning: Neural Agent 1.2 MIGHT close old positions in negative, if not aligned with the new auto strategy.</span>
                       
            </div>

            <ng-template #add_account>
                <div class="add-broker">
                    <div>
                    <div class="value-tips">
                        {{ 'brokerAccountIdTips' | translate }}
                    </div>
                    <div class="value-text">
                        <div class="field-title">
                            {{ 'accountId' | translate }}:
                        </div>
                        <div class="value">
                            <input matInput type="text" class="crypto-input bft-form-input full-width"
                                [(ngModel)]="accountId">
                        </div>
                    </div>
                    </div>
                    <div>
                    <div class="policy-agreement-wrapper">
                        <span>
                            <input type="checkbox" id="accept-broker-policy" [(ngModel)]="policyAccepted">
                            <label for="accept-broker-policy"><span class="accept-broker-policy-text">I accept the <a
                                        (click)="privacyPolicy()">Terms Of Use & Privacy Policy</a></span></label>
                        </span>
                    </div>
                    <div class="poilicy-profit-agreement hidden">
                        <span>
                            <input type="checkbox" id="accept-profit-policy" [(ngModel)]="profitPolicyAccepted">
                            <label for="accept-profit-policy"><span class="accept-profit-policy-text">I consent to contribute 10% of all net earnings as per the 
                                <a (click)="profitPolicy()">Profit Sharing Program</a></span></label>
                        </span>
                    </div>

                    <div class="liability-waiver-agreement">
                        <span>
                            <input type="checkbox" id="accept-liability-waiver" [(ngModel)]="liabilityWaiverAccepted">
                            <label for="accept-liability-waiver"><span class="accept-liability-waiver-text">I release Breakfree Trading of all liability and accept the <a
                                        (click)="liabilityWaiver()"> Release Of Liability Agreement.</a> </span></label>
                        </span>
                    </div>
                    </div>

                    <div class="btn-wrapper">
                        <button class="crypto-button crypto-button_primary" [disabled]="!canSave()" (click)="submit()">
                            {{ 'save' | translate }}
                        </button>
                    </div>
                </div>
            </ng-template>
        </div>
        <ng-template #loader>
            <div class="loader-container">
                <bft-loader></bft-loader>
            </div>
        </ng-template>
    </div>
</div>