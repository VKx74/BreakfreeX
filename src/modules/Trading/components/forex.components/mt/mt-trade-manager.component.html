<div class="trade-manager full-height">
    <div class="color-selector">
        <color-selector [activeColor]="linkerColor" [path]="'circle'" (activeColorChange)='handleColorSelected($event)'>
        </color-selector>
    </div>
    <mat-tab-group class="full-height" (selectedTabChange)="tabChanged($event)">
        <mat-tab label="{{'tradeManager.positions' | translate}} {{positionsAmount ? '[' + positionsAmount + ']' : ''}}">
            <mt-positions [selectedTabIndex]="selectedTabIndex" [tabIndex]="0" (onPositionClose)="handlePositionClose($event)" (onOpenChart)="handleOpenChart($event)"></mt-positions>
        </mat-tab>
        <mat-tab label="{{'tradeManager.openOrders' | translate}} {{ordersAmount ? '[' + ordersAmount + ']' : ''}}">
            <mt-open-orders [selectedTabIndex]="selectedTabIndex" [tabIndex]="1" (onOrderClose)="handleOrderClose($event)" (onOrderEdit)="handleOrderEdit($event)" (onOpenChart)="handleOpenChart($event)"></mt-open-orders>
        </mat-tab> 
         <mat-tab label="{{'tradeManager.pendingOrders' | translate}} {{pendingAmount ? '[' + pendingAmount + ']' : ''}}">
            <mt-pending-orders [selectedTabIndex]="selectedTabIndex" [tabIndex]="2"  (onOrderClose)="handleOrderClose($event)" (onOrderEdit)="handleOrderEdit($event)" (onOpenChart)="handleOpenChart($event)"></mt-pending-orders>
        </mat-tab>
        <mat-tab label="{{'tradeManager.orderHistory' | translate}}">
            <mt-history-orders [selectedTabIndex]="selectedTabIndex" [tabIndex]="3"  (onOpenChart)="handleOpenChart($event)"></mt-history-orders>
        </mat-tab>
        <mat-tab label="{{'tradeManager.accountInfo' | translate}}">
            <mt-account-info></mt-account-info>
        </mat-tab>
    </mat-tab-group>
</div>

<div class="controls">
    <mt-account-info-bar class="info-bar"></mt-account-info-bar>
    <div>
        <button (click)="cancelAllPending()"
                style="margin:10px"
                [disabled]="!brokerConnected"
                *ngIf="this.selectedTabIndex === 2"
                class="crypto-button crypto-button_success">Cancel All
        </button> 
        <button (click)="placeOrder()"
                style="margin:10px"
                [disabled]="!brokerConnected"
                class="crypto-button crypto-button_success">Place Order
        </button> 
        <button (click)="reconnect()"
                style="margin:10px"
                [disabled]="!brokerConnected"
                class="crypto-button crypto-button_danger">Reconnect
        </button>
    </div>
</div>
